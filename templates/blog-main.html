<!DOCTYPE html>
<html lang="en">
{% load static %}

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta name="google-site-verification" content="2ZSOk2ok-aLkpTXCVzhMXeR5Ay0wh28SPlqCPSLy9BU" />
  <title>{% block title%} {%endblock title%}</title>
  <!-- <link rel="canonical" href="https://salesgenieai.salesflowpro.xyz/blog/" /> -->
  <meta content="{% block meta%} {%endblock meta%}" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="{% static 'blog/assets/img/favicon.png' %}" rel="icon">
  <link href="{% static 'blog/assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'blog/assets/vendor/aos/aos.css' %}" rel="stylesheet">
  <link href="{% static 'blog/assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'blog/assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'blog/assets/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
  <link href="{% static 'blog/assets/vendor/remixicon/remixicon.css' %}" rel="stylesheet">
  <link href="{% static 'blog/assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="{% static 'blog/assets/css/style.css' %}" rel="stylesheet">

</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top">
    <div class="container-fluid container-xl d-flex align-items-center justify-content-between">

      <a href="{% url 'landing_page' %}" class="logo d-flex align-items-center">
        <img src="{% static 'blog/assets/img/logo.png' %}" alt="" title="learn more about salesflow pro">
        <span>Salesflow Pro</span>
      </a>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto active" href="{% url 'blog' %}">Blog</a></li>
          <li><a href="{% url 'about' %}">About</a></li>
          <li><a href="{% url 'services' %}">Services</a></li>
          <li><a class="getstarted scrollto" href="https://salesgenieai.salesflowpro.xyz/register/">Get Started</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

    {% block content %}
    {%endblock%}

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">

    <div class="footer-newsletter">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-12 text-center">
            <h4>Our Newsletter</h4>
            <p>Stay updated with the latest features and blogs</p>
          </div>
          <div class="col-lg-6">
            <form action="{% url 'newsletter' %}" method="POST">
              {% csrf_token %}
              <input type="email" name="email"><input type="submit" value="Subscribe">
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="footer-top">
      <div class="container">
        <div class="row gy-4">
          {%for info in infos %}
          <div class="col-lg-5 col-md-12 footer-info">
            <a href="{% url 'blog' %}" class="logo d-flex align-items-center">
              <img src="{% static 'assets/img/logo.png' %}" alt="">
              <span>Accounts Monitor</span>
            </a>
            <p>{{ info.tagline }}</p>
            <div class="social-links mt-3">
              {%for link in links %}
              <a href="{{link.link}}" class="{{link.name}}"><i class="bi bi-{{link.name}}"></i></a>
              {% endfor %}
            </div>
          </div>
          {% endfor %}

          <div class="col-lg-2 col-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
                <li><i class="bi bi-chevron-right"></i><a class="nav-link scrollto active" href="#hero">Home</a></li>
                <li><i class="bi bi-chevron-right"></i><a class="nav-link scrollto" href="#about">About</a></li>
                <li><i class="bi bi-chevron-right"></i><a class="nav-link scrollto" href="#services">Services</a></li>
                <li><i class="bi bi-chevron-right"></i><a class="nav-link scrollto" href="#team">Team</a></li>
                <li><i class="bi bi-chevron-right"></i><a class="nav-link scrollto" href="#contact">Contact</a></li>
                <li><i class="bi bi-chevron-right"></i><a class="getstarted scrollto" href="#pricing">Get Started</a></li>
          </div>

          {%for contact in contacts_infos%}
          <div class="col-lg-3 col-md-12 footer-contact text-center text-md-start">
            <h4>Contact Us</h4>
            <p>
              {{ contact.address }} <br>
              {{ contact.location }}, {{ contact.county }} <br>
              {{ contact.country }} <br><br>
              <strong>Phone:</strong> {{ contact.phone1 }}<br>
              <strong>Email:</strong> {{ contact.email1 }}<br>
            </p>

          </div>
          {%endfor%}

        </div>
      </div>
    </div> -->

    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>Salesflow Pro</span></strong>. All Rights Reserved
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <script>
    (function() {
       // Create WhatsApp button
       const whatsappButton = document.createElement('div');
       whatsappButton.style.position = 'fixed';
       whatsappButton.style.bottom = '11px';
       whatsappButton.style.right = '109px';
       whatsappButton.style.width = '50px';
       whatsappButton.style.height = '50px';
       whatsappButton.style.borderRadius = '50%';
       whatsappButton.style.backgroundColor = '#25D366'; // WhatsApp green color
       whatsappButton.style.color = '#fff';
       whatsappButton.style.display = 'flex';
       whatsappButton.style.alignItems = 'center';
       whatsappButton.style.justifyContent = 'center';
       whatsappButton.style.cursor = 'pointer';
       whatsappButton.style.zIndex = '1000';
       whatsappButton.innerHTML = '<i class="bi bi-whatsapp"></i>'; // WhatsApp icon (Bootstrap)
 
       // Add click event to open WhatsApp chat
       whatsappButton.onclick = function() {
          window.open('https://wa.me/254739594678/?text=hello...', '_blank');
       };
 
       // Append button to body
       document.body.appendChild(whatsappButton);
    })();
  </script>
 
 
  <script>
    (function() {
       // Create chat button
       const chatButton = document.createElement('div');
       chatButton.style.position = 'fixed';
       chatButton.style.bottom = '11px';
       chatButton.style.right = '57px';
       chatButton.style.width = '50px';
       chatButton.style.height = '50px';
       chatButton.style.borderRadius = '50%';
       chatButton.style.backgroundColor = '#007bff';
       chatButton.style.color = '#fff';
       chatButton.style.display = 'flex';
       chatButton.style.alignItems = 'center';
       chatButton.style.justifyContent = 'center';
       chatButton.style.cursor = 'pointer';
       chatButton.style.zIndex = '1000';
       chatButton.innerHTML = '<i class="bi bi-chat-dots"></i>';
       document.body.appendChild(chatButton);
 
       // Create chatbox element (hidden initially)
       const chatBox = document.createElement('div');
       chatBox.style.position = 'fixed';
       chatBox.style.bottom = '40px';
       chatBox.style.right = '30px';
       chatBox.style.width = '300px';
       chatBox.style.border = '1px solid #ccc';
       chatBox.style.borderRadius = '10px';
       chatBox.style.backgroundColor = '#fff';
       chatBox.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.1)';
       chatBox.style.display = 'none';
       chatBox.style.zIndex = '1000';
       chatBox.innerHTML = `
          <div style="padding: 10px; background-color: #007bff; color: #fff; font-weight: bold; border-radius: 10px 10px 0 0;">
             <span>Sales Genie</span>
             <button onclick="toggleChat()" style="float: right; color: #fff; background: none; border: none; font-size: 16px;">&times;</button>
          </div>
          <div id="chatContent" style="height: 250px; overflow-y: auto; padding: 10px; font-family: Arial, sans-serif; font-size: 14px;">
          </div>
          <div style="display: flex; border-top: 1px solid #ccc;">
             <input id="userMessage" type="text" placeholder="Write a message" style="flex: 1; padding: 10px; border: none; outline: none; border-radius: 0 0 0 10px;" />
             <button onclick="sendMessage()" style="padding: 10px; background-color: #007bff; color: #fff; border: none; border-radius: 0 0 10px 0; cursor: pointer;">
                send
             </button>
          </div>
          <div style="text-align: center; font-size: 12px; padding: 5px;">
             <a href="https://salesflowpro.xyz/" target="_blank">powered by Salesflow Pro</a>
          </div>
       `;
       document.body.appendChild(chatBox);
 
       // Toggle chat visibility
       chatButton.onclick = function() {
          chatButton.style.display = 'none';
          chatBox.style.display = 'block';
          loadChatHistory(); // Load chat history when opening chatbox
       }
 
       window.toggleChat = function() {
          chatBox.style.display = 'none';
          chatButton.style.display = 'flex';
       }
 
       // Function to save chat message in local storage
       function saveMessage(type, message) {
          const chatHistory = JSON.parse(localStorage.getItem('chatHistory')) || [];
          chatHistory.push({ type, message });
          localStorage.setItem('chatHistory', JSON.stringify(chatHistory));
       }
 
       // Function to load chat history from local storage
       function loadChatHistory() {
          const chatHistory = JSON.parse(localStorage.getItem('chatHistory')) || [];
          const chatContent = document.getElementById('chatContent');
          chatContent.innerHTML = ''; // Clear existing content
 
          chatHistory.forEach(entry => {
             const messageDiv = document.createElement('div');
             messageDiv.innerHTML = `
                <div style="margin-bottom: 10px; text-align: ${entry.type === 'user' ? 'right' : 'left'};">
                   <div style="display: inline-block; background-color: ${entry.type === 'user' ? '#007bff' : '#f1f1f1'}; color: ${entry.type === 'user' ? '#fff' : '#000'}; border-radius: 10px; padding: 10px; max-width: 70%;">
                      ${entry.message}
                   </div>
                </div>
             `;
             chatContent.appendChild(messageDiv);
          });
          chatContent.scrollTop = chatContent.scrollHeight;
       }
 
       // Function to send message to backend
       window.sendMessage = function() {
          const message = document.getElementById('userMessage').value;
          if (!message) return;

          saveMessage('user', message); // Save user message
          displayMessage('user', message); // Display user message

            // Retrieve the last 5 messages (adjust this number as needed)
          const chatHistory = JSON.parse(localStorage.getItem('chatHistory')) || [];
          const recentMessages = chatHistory.slice(-10); // Take the last 10 messages for context

          // Prepare the request payload with the recent messages and the new question
          const payload = {
              message: message,
              history: recentMessages
          };
  
          fetch('https://aiagent.salesflowpro.xyz/chatbot-response/', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(payload)
          })
          .then(response => response.json())
          .then(data => {
              saveMessage('bot', data.response); // Save bot response
              displayMessage('bot', data.response); // Display bot response
          })
          .catch(error => console.error('Error:', error));

          document.getElementById('userMessage').value = '';
        }
 
       // Function to display message in chatbox
       function displayMessage(type, message) {
          const chatContent = document.getElementById('chatContent');
          const messageDiv = document.createElement('div');
          messageDiv.innerHTML = `
             <div style="margin-bottom: 10px; text-align: ${type === 'user' ? 'right' : 'left'};">
                <div style="display: inline-block; background-color: ${type === 'user' ? '#007bff' : '#f1f1f1'}; color: ${type === 'user' ? '#fff' : '#000'}; border-radius: 10px; padding: 10px; max-width: 70%;">
                   ${message}
                </div>
             </div>
          `;
          chatContent.appendChild(messageDiv);
          chatContent.scrollTop = chatContent.scrollHeight;
       }
 
       // Load chat history when the script is first run
       loadChatHistory();
    })();
  </script>
  
 

  <!-- Vendor JS Files -->
  <script src="{% static 'assets/vendor/purecounter/purecounter_vanilla.js' %}"></script>
  <script src="{% static 'assets/vendor/aos/aos.js' %}"></script>
  <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/glightbox/js/glightbox.min.js' %}"></script>
  <script src="{% static 'assets/vendor/isotope-layout/isotope.pkgd.min.js' %}"></script>
  <script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>

  <!-- Template Main JS File -->
  <script src="{% static 'assets/js/main.js' %}"></script>

</body>

</html>