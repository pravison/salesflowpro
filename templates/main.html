{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta name="google-site-verification" content="2ZSOk2ok-aLkpTXCVzhMXeR5Ay0wh28SPlqCPSLy9BU" />

  <title>{% for infor in companyinfor %}{{infor.company_name}} {% endfor %}- {% block title%} {%endblock title%}</title>
  <link rel="canonical" href="https://salesgenieai.salesflowpro.xyz/" />
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="{% static 'assets/img/img-1.webp' %}" rel="icon">
  <link href="{% static 'assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,600;1,700&family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Inter:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/aos/aos.css' %}" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="{% static 'assets/css/main.css' %}" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Logis
  * Updated: Jan 09 2024 with Bootstrap v5.3.2
  * Template URL: https://bootstrapmade.com/logis-bootstrap-logistics-website-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>
  <!-- ======= Header ======= -->
  <header id="header" class="header d-flex align-items-center fixed-top">
    {% for infor in companyinfor %}
    <div class="container-fluid container-xl d-flex align-items-center justify-content-between">

      <a href="{% url 'landing_page' %}" class="logo d-flex align-items-center">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <!-- <img src="assets/img/logo.png" alt=""> -->
        <h1>{{infor.company_name}}</h1>
      </a>

      <i class="mobile-nav-toggle mobile-nav-show bi bi-list"></i>
      <i class="mobile-nav-toggle mobile-nav-hide d-none bi bi-x"></i>
      <nav id="navbar" class="navbar">
        <ul>
          <li><a href="{% url 'blog' %}">Blog</a></li>
          <li><a href="{% url 'about' %}">About</a></li>
          <li><a href="{% url 'services' %}">Services</a></li>
          <li><a href="{% url 'pricing' %}">Pricing</a></li>
          <li><a href="{% url 'contact' %}">Contact</a></li>
          <li><a class="get-a-quote" href="{% url 'pricing' %}">Get Started</a></li>
        </ul>
      </nav><!-- .navbar -->

    </div>
    {% endfor %}
  </header><!-- End Header -->
  <!-- End Header -->

  {% block content %}

  {% endblock  %}

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer mb-lg-0">
    {% for infor in companyinfor %}
    <div class="container">
      <div class="row gy-4">
        <div class="col-lg-5 col-md-12 footer-info">
          <a href="{% url 'landing_page' %}" class="logo d-flex align-items-center">
            <span>{{infor.company_name}}</span>
          </a>
          <p>{{infor.pitch}}</p>
          <div class="social-links d-flex mt-4">
            <a href="{{infor.twitter}}" class="twitter"><i class="bi bi-twitter"></i></a>
            <a href="{{infor.facebook}}" class="facebook"><i class="bi bi-facebook"></i></a>
            <a href="{{infor.instagram}}" class="instagram"><i class="bi bi-instagram"></i></a>
            <a href="{{infor.linkedin}}" class="linkedin"><i class="bi bi-linkedin"></i></a>
            <a href="{{infor.youtube}}" class="youtube"><i class="bi bi-youtube"></i></a>
          </div>
        </div>

        <div class="col-lg-2 col-6 footer-links">
          <h4>Useful Links</h4>
          <ul>
            <li><a href="{% url 'pricing' %}">Get Started</a></li>
            <li><a href="{% url 'blog' %}">Blog</a></li>
            <li><a href="{% url 'about' %}">About us</a></li>
            <li><a href="{% url 'services' %}">Services</a></li>
            <li><a href="{% url 'pricing' %}">Pricing</a></li>
            <li><a href="{% url 'contact' %}">Contact</a></li>
            <!-- <li><a href="{% url 'terms_of_service' %}">Terms of service</a></li>
            <li><a href="{% url 'privacy_policy' %}">Privacy policy</a></li> -->
          </ul>
        </div>

        <div class="col-lg-2 col-6 footer-links">
          <h4>Our Services</h4>
          <ul>
            {% for service in services %}
            <li><a href="{% url 'service' service.id %}">{{service.service_name}}</a></li>
            {% endfor %}
          </ul>
        </div>

        <div class="col-lg-3 col-md-12 footer-contact text-center text-md-start">
          <h4>Contact Us</h4>
          <p>
            {{infor.address}} <br>
            {{ infor.location }}, {{infor.county}}<br>
            {{infor.country}} <br><br>
            <strong>Phone:</strong> {{infor.phone}}<br>
            <strong>Email:</strong> {{ infor.email }}<br>
          </p>

        </div>

      </div>
      
    </div>

    <div class="container mt-4">
      <div class="copyright">
        &copy; Copyright <strong><span>{{infor.company_name}}</span></strong>. All Rights Reserved
      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/logis-bootstrap-logistics-website-template/ -->
        <!-- Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a> -->
      </div>
    </div>
    {% endfor %}

  </footer><!-- End Footer -->
  <!-- End Footer -->

  <a href="#" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
  <script>
    (function() {
       // Create WhatsApp button
       const whatsappButton = document.createElement('div');
       whatsappButton.style.position = 'fixed';
       whatsappButton.style.bottom = '11px';
       whatsappButton.style.right = '109px';
       whatsappButton.style.width = '50px';
       whatsappButton.style.height = '50px';
       whatsappButton.style.borderRadius = '50%';
       whatsappButton.style.backgroundColor = '#25D366'; // WhatsApp green color
       whatsappButton.style.color = '#fff';
       whatsappButton.style.display = 'flex';
       whatsappButton.style.alignItems = 'center';
       whatsappButton.style.justifyContent = 'center';
       whatsappButton.style.cursor = 'pointer';
       whatsappButton.style.zIndex = '1000';
       whatsappButton.innerHTML = '<i class="bi bi-whatsapp"></i>'; // WhatsApp icon (Bootstrap)
 
       // Add click event to open WhatsApp chat
       whatsappButton.onclick = function() {
          window.open('https://wa.me/254739594678/?text=hello...', '_blank');
       };
 
       // Append button to body
       document.body.appendChild(whatsappButton);
    })();
  </script>
 
 <script>
  (function() {
     // Create chat button
     const chatButton = document.createElement('div');
     chatButton.style.position = 'fixed';
     chatButton.style.bottom = '15px';
     chatButton.style.right = '57px';
     chatButton.style.width = '50px';
     chatButton.style.height = '50px';
     chatButton.style.borderRadius = '50%';
     chatButton.style.backgroundColor = '#007bff';
     chatButton.style.color = '#fff';
     chatButton.style.display = 'flex';
     chatButton.style.alignItems = 'center';
     chatButton.style.justifyContent = 'center';
     chatButton.style.cursor = 'pointer';
     chatButton.style.zIndex = '1000';
     chatButton.innerHTML = '<i class="bi bi-chat-dots"></i>';
     document.body.appendChild(chatButton);
  
     // Create chatbox element (hidden initially)
     const chatBox = document.createElement('div');
     chatBox.style.position = 'fixed';
     chatBox.style.bottom = '40px';
     chatBox.style.right = '30px';
     chatBox.style.width = '300px';
     chatBox.style.border = '1px solid #ccc';
     chatBox.style.borderRadius = '10px';
     chatBox.style.backgroundColor = '#fff';
     chatBox.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.1)';
     chatBox.style.display = 'none';
     chatBox.style.zIndex = '1000';
     chatBox.innerHTML = `
        <div style="padding: 10px; background-color: #007bff; color: #fff; font-weight: bold; border-radius: 10px 10px 0 0;">
           <span>Sales Genie</span>
           <button onclick="toggleChat()" style="float: right; color: #fff; background: none; border: none; font-size: 16px;">&times;</button>
        </div>
        <div id="chatContent" style="height: 250px; overflow-y: auto; padding: 10px; font-family: Arial, sans-serif; font-size: 14px;">
        </div>
        <div style="display: flex; border-top: 1px solid #ccc;">
           <input id="userMessage" type="text" placeholder="Write a message" style="flex: 1; padding: 10px; border: none; outline: none; border-radius: 0 0 0 10px;" />
           <button onclick="sendMessage()" style="padding: 10px; background-color: #007bff; color: #fff; border: none; border-radius: 0 0 10px 0; cursor: pointer;">
              Send
           </button>
        </div>
        <div style="text-align: center; font-size: 12px; padding: 5px;">
           <a href="https://salesflowpro.xyz/" target="_blank">powered by Salesflow Pro</a>
        </div>
     `;
     document.body.appendChild(chatBox);
  
     // Toggle chat visibility
     chatButton.onclick = function() {
        chatButton.style.display = 'none';
        chatBox.style.display = 'block';
        loadChatHistory(); // Load chat history when opening chatbox
     }
  
     window.toggleChat = function() {
        chatBox.style.display = 'none';
        chatButton.style.display = 'flex';
     }
  
     // Function to save chat message in local storage
     function saveMessage(type, message) {
        const chatHistory = JSON.parse(localStorage.getItem('chatHistory')) || [];
        chatHistory.push({ type, message });
        localStorage.setItem('chatHistory', JSON.stringify(chatHistory));
     }
  
     // Function to load chat history from local storage
     function loadChatHistory() {
        const chatHistory = JSON.parse(localStorage.getItem('chatHistory')) || [];
        const chatContent = document.getElementById('chatContent');
        chatContent.innerHTML = ''; // Clear existing content
  
        chatHistory.forEach(entry => {
           const messageDiv = document.createElement('div');
           messageDiv.innerHTML = `
              <div style="margin-bottom: 10px; text-align: ${entry.type === 'user' ? 'right' : 'left'};">
                 <div style="display: inline-block; background-color: ${entry.type === 'user' ? '#007bff' : '#f1f1f1'}; color: ${entry.type === 'user' ? '#fff' : '#000'}; border-radius: 10px; padding: 10px; max-width: 70%;">
                    ${entry.message}
                 </div>
              </div>
           `;
           chatContent.appendChild(messageDiv);
        });
        chatContent.scrollTop = chatContent.scrollHeight;
     }
  
     // Function to send message to backend
     window.sendMessage = function() {
        const message = document.getElementById('userMessage').value;
        if (!message) return;
  
        saveMessage('user', message); // Save user message
        displayMessage('user', message); // Display user message
  
        // Display loading message
        const loadingMessage = document.createElement('div');
        loadingMessage.id = 'loadingMessage';
        loadingMessage.innerHTML = `
           <div style="margin-bottom: 10px; text-align: left;">
              <div style="display: inline-block; background-color: #f1f1f1; color: #000; border-radius: 10px; padding: 10px; max-width: 70%;">
                 Loading...
              </div>
           </div>
        `;
        document.getElementById('chatContent').appendChild(loadingMessage);
        document.getElementById('chatContent').scrollTop = document.getElementById('chatContent').scrollHeight;
  
        // Retrieve the last 5 messages (adjust this number as needed)
        const chatHistory = JSON.parse(localStorage.getItem('chatHistory')) || [];
        const recentMessages = chatHistory.slice(-10); // Take the last 10 messages for context
  
        // Prepare the request payload with the recent messages and the new question
        const payload = {
            message: message,
            history: recentMessages
        };
  
        fetch('https://aiagent.salesflowpro.xyz/chatbot-response/', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        })
        .then(response => response.json())
        .then(data => {
            // Remove loading message
            document.getElementById('loadingMessage').remove();
            
            saveMessage('bot', data.response); // Save bot response
            displayMessage('bot', data.response); // Display bot response
        })
        .catch(error => {
            console.error('Error:', error);
            // Remove loading message if there is an error
            document.getElementById('loadingMessage').remove();
        });
  
        document.getElementById('userMessage').value = '';
      }
  
     // Function to display message in chatbox
     function displayMessage(type, message) {
        const chatContent = document.getElementById('chatContent');
        const messageDiv = document.createElement('div');
        messageDiv.innerHTML = `
           <div style="margin-bottom: 10px; text-align: ${type === 'user' ? 'right' : 'left'};">
              <div style="display: inline-block; background-color: ${type === 'user' ? '#007bff' : '#f1f1f1'}; color: ${type === 'user' ? '#fff' : '#000'}; border-radius: 10px; padding: 10px; max-width: 70%;">
                 ${message}
              </div>
           </div>
        `;
        chatContent.appendChild(messageDiv);
        chatContent.scrollTop = chatContent.scrollHeight;
     }
  
     // Load chat history when the script is first run
     loadChatHistory();
  })();
  </script>
  

  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/purecounter/purecounter_vanilla.js' %}"></script>
  <script src="{% static 'assets/vendor/glightbox/js/glightbox.min.js' %}"></script>
  <script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/aos/aos.js' %}"></script>
  <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>

  <!-- Template Main JS File -->
  <script src="{% static 'assets/js/main.js' %}"></script>

</body>

</html>